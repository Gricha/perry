"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[9013],{77309(e,n,s){s.r(n),s.d(n,{assets:()=>t,contentTitle:()=>a,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"troubleshooting","title":"Troubleshooting","description":"Common issues and solutions.","source":"@site/docs/troubleshooting.md","sourceDirName":".","slug":"/troubleshooting","permalink":"/perry/docs/troubleshooting","draft":false,"unlisted":false,"editUrl":"https://github.com/gricha/perry/tree/main/docs/docs/troubleshooting.md","tags":[],"version":"current","sidebarPosition":100,"frontMatter":{"sidebar_position":100},"sidebar":"docsSidebar","previous":{"title":"Remote Access","permalink":"/perry/docs/web-ui"},"next":{"title":"API Reference","permalink":"/perry/docs/api"}}');var r=s(74848),o=s(28453);const l={sidebar_position:100},a="Troubleshooting",t={},c=[{value:"Docker Issues",id:"docker-issues",level:2},{value:"&quot;Cannot connect to Docker daemon&quot;",id:"cannot-connect-to-docker-daemon",level:3},{value:"&quot;Image not found&quot;",id:"image-not-found",level:3},{value:"&quot;No space left on device&quot;",id:"no-space-left-on-device",level:3},{value:"Workspace Issues",id:"workspace-issues",level:2},{value:"Workspace stuck in &quot;creating&quot;",id:"workspace-stuck-in-creating",level:3},{value:"Cannot SSH into workspace",id:"cannot-ssh-into-workspace",level:3},{value:"Git clone fails",id:"git-clone-fails",level:3},{value:"Agent Issues",id:"agent-issues",level:2},{value:"Agent won&#39;t start",id:"agent-wont-start",level:3},{value:"Web UI not loading",id:"web-ui-not-loading",level:3},{value:"&quot;No agent configured&quot;",id:"no-agent-configured",level:3},{value:"AI Agent Issues",id:"ai-agent-issues",level:2},{value:"Claude Code: Token invalid",id:"claude-code-token-invalid",level:3},{value:"OpenCode: API key not found",id:"opencode-api-key-not-found",level:3},{value:"Sessions not showing",id:"sessions-not-showing",level:3},{value:"Terminal Issues",id:"terminal-issues",level:2},{value:"Web terminal not connecting",id:"web-terminal-not-connecting",level:3},{value:"Terminal garbled output",id:"terminal-garbled-output",level:3},{value:"Tailscale Issues",id:"tailscale-issues",level:2},{value:"&quot;Tailscale Serve requires operator permissions&quot;",id:"tailscale-serve-requires-operator-permissions",level:3},{value:"Tailscale not detected",id:"tailscale-not-detected",level:3},{value:"Getting Help",id:"getting-help",level:2},{value:"Collect diagnostic info",id:"collect-diagnostic-info",level:3},{value:"View logs",id:"view-logs",level:3},{value:"File an issue",id:"file-an-issue",level:3}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"troubleshooting",children:"Troubleshooting"})}),"\n",(0,r.jsx)(n.p,{children:"Common issues and solutions."}),"\n",(0,r.jsx)(n.h2,{id:"docker-issues",children:"Docker Issues"}),"\n",(0,r.jsx)(n.h3,{id:"cannot-connect-to-docker-daemon",children:'"Cannot connect to Docker daemon"'}),"\n",(0,r.jsx)(n.p,{children:"Docker is not running."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"macOS/Windows:"}),"\nStart Docker Desktop."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Linux:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"sudo systemctl start docker\nsudo usermod -aG docker $USER\n# Log out and back in\n"})}),"\n",(0,r.jsx)(n.h3,{id:"image-not-found",children:'"Image not found"'}),"\n",(0,r.jsx)(n.p,{children:"The workspace image hasn't been pulled or built."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Build locally\nperry build\n\n# Or let Perry pull from registry (automatic on first workspace creation)\n"})}),"\n",(0,r.jsx)(n.h3,{id:"no-space-left-on-device",children:'"No space left on device"'}),"\n",(0,r.jsx)(n.p,{children:"Docker has run out of disk space."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"docker system prune -a\ndocker volume prune\n"})}),"\n",(0,r.jsx)(n.h2,{id:"workspace-issues",children:"Workspace Issues"}),"\n",(0,r.jsx)(n.h3,{id:"workspace-stuck-in-creating",children:'Workspace stuck in "creating"'}),"\n",(0,r.jsx)(n.p,{children:"Container creation failed."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Check logs\nperry logs <name>\ndocker logs workspace-<name>\n\n# Delete and recreate\nperry delete <name>\nperry start <name>\n"})}),"\n",(0,r.jsx)(n.h3,{id:"cannot-ssh-into-workspace",children:"Cannot SSH into workspace"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Verify workspace is running\nperry list\n\n# Get SSH port\nperry info <name>\n\n# Test connection\nssh -v -p <port> workspace@localhost\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Default username is ",(0,r.jsx)(n.code,{children:"workspace"}),", no password (uses keys or docker exec)."]}),"\n",(0,r.jsx)(n.h3,{id:"git-clone-fails",children:"Git clone fails"}),"\n",(0,r.jsx)(n.p,{children:"SSH key not available or wrong URL."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Check SSH key configuration\nperry ssh show\n\n# Test GitHub access inside workspace\nperry shell <name>\nssh -T git@github.com\n"})}),"\n",(0,r.jsx)(n.p,{children:"Or use HTTPS:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"perry start myproject --clone https://github.com/user/repo.git\n"})}),"\n",(0,r.jsx)(n.h2,{id:"agent-issues",children:"Agent Issues"}),"\n",(0,r.jsx)(n.h3,{id:"agent-wont-start",children:"Agent won't start"}),"\n",(0,r.jsx)(n.p,{children:"Port already in use."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Check port\nlsof -i :7391\n\n# Use different port\nperry agent run --port 3000\n"})}),"\n",(0,r.jsx)(n.h3,{id:"web-ui-not-loading",children:"Web UI not loading"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Check agent status\nperry agent status\n\n# Test API\ncurl http://localhost:7391/health\n"})}),"\n",(0,r.jsx)(n.h3,{id:"no-agent-configured",children:'"No agent configured"'}),"\n",(0,r.jsx)(n.p,{children:"If you run a Perry command without an agent configured (and no local agent is running), Perry will prompt you interactively for the agent hostname."}),"\n",(0,r.jsx)(n.p,{children:"You can also configure it manually:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# For remote agent\nperry config agent myserver.ts.net\n\n# With explicit port\nperry config agent myserver.ts.net:7391\n"})}),"\n",(0,r.jsxs)(n.p,{children:["For local usage, simply start the agent with ",(0,r.jsx)(n.code,{children:"perry agent run"})," and Perry will automatically connect to it."]}),"\n",(0,r.jsx)(n.h2,{id:"ai-agent-issues",children:"AI Agent Issues"}),"\n",(0,r.jsx)(n.h3,{id:"claude-code-token-invalid",children:"Claude Code: Token invalid"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Generate new token on host\nclaude setup-token\n\n# Add to Perry via Web UI > Settings > Agents\n# Restart workspace\nperry stop <name>\nperry start <name>\n"})}),"\n",(0,r.jsx)(n.h3,{id:"opencode-api-key-not-found",children:"OpenCode: API key not found"}),"\n",(0,r.jsx)(n.p,{children:"Add key to config:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "agents": {\n    "opencode": {\n      "zen_token": "your-token"\n    }\n  }\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:"Or set environment variable:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "credentials": {\n    "env": {\n      "OPENAI_API_KEY": "sk-..."\n    }\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"sessions-not-showing",children:"Sessions not showing"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Verify workspace is running"}),"\n",(0,r.jsx)(n.li,{children:"Use AI agent inside workspace to create sessions"}),"\n",(0,r.jsx)(n.li,{children:"Sessions appear after first conversation"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"terminal-issues",children:"Terminal Issues"}),"\n",(0,r.jsx)(n.h3,{id:"web-terminal-not-connecting",children:"Web terminal not connecting"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Check workspace is running"}),"\n",(0,r.jsx)(n.li,{children:"Try different browser or incognito mode"}),"\n",(0,r.jsx)(n.li,{children:"Disable ad blockers"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"terminal-garbled-output",children:"Terminal garbled output"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"reset\nclear\n"})}),"\n",(0,r.jsx)(n.h2,{id:"tailscale-issues",children:"Tailscale Issues"}),"\n",(0,r.jsx)(n.h3,{id:"tailscale-serve-requires-operator-permissions",children:'"Tailscale Serve requires operator permissions"'}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"sudo tailscale set --operator=$USER\n"})}),"\n",(0,r.jsx)(n.h3,{id:"tailscale-not-detected",children:"Tailscale not detected"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"tailscale status\n"})}),"\n",(0,r.jsx)(n.h2,{id:"getting-help",children:"Getting Help"}),"\n",(0,r.jsx)(n.h3,{id:"collect-diagnostic-info",children:"Collect diagnostic info"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"perry --version\nperry info\ndocker version\ndocker info\n"})}),"\n",(0,r.jsx)(n.h3,{id:"view-logs",children:"View logs"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"perry logs <workspace-name>\nperry agent logs\ndocker logs workspace-<name>\n"})}),"\n",(0,r.jsx)(n.h3,{id:"file-an-issue",children:"File an issue"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"https://github.com/gricha/perry/issues",children:"https://github.com/gricha/perry/issues"})}),"\n",(0,r.jsx)(n.p,{children:"Include:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"OS and version"}),"\n",(0,r.jsx)(n.li,{children:"Docker version"}),"\n",(0,r.jsx)(n.li,{children:"Perry version"}),"\n",(0,r.jsx)(n.li,{children:"Full error message"}),"\n",(0,r.jsx)(n.li,{children:"Steps to reproduce"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}}}]);