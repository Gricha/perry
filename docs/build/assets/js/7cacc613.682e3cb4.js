"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[4258],{2875(e,n,i){i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>t});const s=JSON.parse('{"id":"configuration/environment","title":"Environment Variables","description":"Inject environment variables into all workspaces.","source":"@site/docs/configuration/environment.md","sourceDirName":"configuration","slug":"/configuration/environment","permalink":"/perry/docs/configuration/environment","draft":false,"unlisted":false,"editUrl":"https://github.com/gricha/perry/tree/main/docs/docs/configuration/environment.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"docsSidebar","previous":{"title":"Configuration Overview","permalink":"/perry/docs/configuration/overview"},"next":{"title":"Files","permalink":"/perry/docs/configuration/files"}}');var r=i(74848),a=i(28453);const l={sidebar_position:2},o="Environment Variables",c={},t=[{value:"Configuration",id:"configuration",level:2},{value:"Via config.json",id:"via-configjson",level:3},{value:"Via Web UI",id:"via-web-ui",level:3},{value:"Common Variables",id:"common-variables",level:2},{value:"API Keys",id:"api-keys",level:3},{value:"Database URLs",id:"database-urls",level:3},{value:"Development Settings",id:"development-settings",level:3},{value:"Apply Changes",id:"apply-changes",level:2},{value:"Accessing in Workspace",id:"accessing-in-workspace",level:2},{value:"Security Notes",id:"security-notes",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"environment-variables",children:"Environment Variables"})}),"\n",(0,r.jsx)(n.p,{children:"Inject environment variables into all workspaces."}),"\n",(0,r.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,r.jsx)(n.h3,{id:"via-configjson",children:"Via config.json"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "credentials": {\n    "env": {\n      "ANTHROPIC_API_KEY": "sk-ant-...",\n      "OPENAI_API_KEY": "sk-...",\n      "DATABASE_URL": "postgres://localhost:5432/mydb",\n      "NODE_ENV": "development"\n    }\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"via-web-ui",children:"Via Web UI"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Open ",(0,r.jsx)(n.a,{href:"http://localhost:7391",children:"http://localhost:7391"})]}),"\n",(0,r.jsx)(n.li,{children:"Go to Settings > Environment"}),"\n",(0,r.jsx)(n.li,{children:"Add key-value pairs"}),"\n",(0,r.jsx)(n.li,{children:"Save"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"common-variables",children:"Common Variables"}),"\n",(0,r.jsx)(n.h3,{id:"api-keys",children:"API Keys"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "credentials": {\n    "env": {\n      "ANTHROPIC_API_KEY": "sk-ant-...",\n      "OPENAI_API_KEY": "sk-...",\n      "GITHUB_TOKEN": "ghp_..."\n    }\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"database-urls",children:"Database URLs"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "credentials": {\n    "env": {\n      "DATABASE_URL": "postgres://user:pass@host:5432/db",\n      "REDIS_URL": "redis://localhost:6379"\n    }\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"development-settings",children:"Development Settings"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "credentials": {\n    "env": {\n      "NODE_ENV": "development",\n      "DEBUG": "*",\n      "LOG_LEVEL": "debug"\n    }\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"apply-changes",children:"Apply Changes"}),"\n",(0,r.jsx)(n.p,{children:"New variables are injected:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"When creating new workspaces"}),"\n",(0,r.jsx)(n.li,{children:"When starting stopped workspaces"}),"\n",(0,r.jsxs)(n.li,{children:["When running ",(0,r.jsx)(n.code,{children:"perry sync <name>"})," (re-creates container env)"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"For running workspaces, restart to pick up new environment variables:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"perry stop myproject\nperry start myproject\n"})}),"\n",(0,r.jsx)(n.h2,{id:"accessing-in-workspace",children:"Accessing in Workspace"}),"\n",(0,r.jsx)(n.p,{children:"Variables are available as standard environment variables:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"echo $ANTHROPIC_API_KEY\necho $DATABASE_URL\n"})}),"\n",(0,r.jsx)(n.p,{children:"And in your code:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"process.env.ANTHROPIC_API_KEY\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"import os\nos.environ['ANTHROPIC_API_KEY']\n"})}),"\n",(0,r.jsx)(n.h2,{id:"security-notes",children:"Security Notes"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Environment variables are stored in plain text in ",(0,r.jsx)(n.code,{children:"config.json"})]}),"\n",(0,r.jsxs)(n.li,{children:["They are visible inside containers via ",(0,r.jsx)(n.code,{children:"env"})," command"]}),"\n",(0,r.jsx)(n.li,{children:"For sensitive credentials, consider using secret management tools in production"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}}}]);