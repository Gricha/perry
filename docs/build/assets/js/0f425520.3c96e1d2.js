"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[9463],{29025(n,e,i){i.r(e),i.d(e,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>t,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"configuration/overview","title":"Configuration Overview","description":"Perry stores configuration in ~/.config/perry/.","source":"@site/docs/configuration/overview.md","sourceDirName":"configuration","slug":"/configuration/overview","permalink":"/perry/docs/configuration/overview","draft":false,"unlisted":false,"editUrl":"https://github.com/gricha/perry/tree/main/docs/docs/configuration/overview.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"docsSidebar","previous":{"title":"Getting Started","permalink":"/perry/docs/getting-started"},"next":{"title":"Environment Variables","permalink":"/perry/docs/configuration/environment"}}');var s=i(74848),o=i(28453);const t={sidebar_position:1},c="Configuration Overview",a={},l=[{value:"Configuration Files",id:"configuration-files",level:2},{value:"Agent Configuration",id:"agent-configuration",level:2},{value:"Edit Configuration",id:"edit-configuration",level:2},{value:"Apply Changes",id:"apply-changes",level:2},{value:"Client Configuration",id:"client-configuration",level:2},{value:"Configuration Sections",id:"configuration-sections",level:2}];function d(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"configuration-overview",children:"Configuration Overview"})}),"\n",(0,s.jsxs)(e.p,{children:["Perry stores configuration in ",(0,s.jsx)(e.code,{children:"~/.config/perry/"}),"."]}),"\n",(0,s.jsx)(e.h2,{id:"configuration-files",children:"Configuration Files"}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"File"}),(0,s.jsx)(e.th,{children:"Purpose"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"config.json"})}),(0,s.jsx)(e.td,{children:"Agent configuration (credentials, SSH keys, scripts)"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"client.json"})}),(0,s.jsx)(e.td,{children:"Client configuration (remote agent hostname)"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.code,{children:"state.json"})}),(0,s.jsx)(e.td,{children:"Workspace state (managed automatically)"})]})]})]}),"\n",(0,s.jsx)(e.h2,{id:"agent-configuration",children:"Agent Configuration"}),"\n",(0,s.jsxs)(e.p,{children:["Location: ",(0,s.jsx)(e.code,{children:"~/.config/perry/config.json"})]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",children:'{\n  "port": 7391,\n  "credentials": {\n    "env": {\n      "ANTHROPIC_API_KEY": "sk-ant-...",\n      "DATABASE_URL": "postgres://..."\n    },\n    "files": {\n      "~/.gitconfig": "~/.gitconfig"\n    }\n  },\n  "agents": {\n    "github": {\n      "token": "ghp_..."\n    },\n    "claude_code": {\n      "oauth_token": "..."\n    },\n    "opencode": {\n      "zen_token": "..."\n    }\n  },\n  "ssh": {\n    "autoAuthorizeHostKeys": true,\n    "global": {\n      "copy": ["~/.ssh/id_ed25519"],\n      "authorize": ["~/.ssh/id_ed25519.pub"]\n    },\n    "workspaces": {}\n  },\n  "scripts": {\n    "post_start": [\n      "~/.perry/userscripts",\n      "~/scripts/setup.sh"\n    ],\n    "fail_on_error": false\n  },\n  "tailscale": {\n    "authKey": "tskey-auth-..."\n  },\n  "allowHostAccess": true\n}\n'})}),"\n",(0,s.jsx)(e.h2,{id:"edit-configuration",children:"Edit Configuration"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Option 1: Web UI"})}),"\n",(0,s.jsxs)(e.p,{children:["Go to ",(0,s.jsx)(e.a,{href:"http://localhost:7391",children:"http://localhost:7391"})," and click Settings."]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Option 2: Edit file directly"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"$EDITOR ~/.config/perry/config.json\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Option 3: Interactive wizard"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"perry agent config\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Option 4: CLI commands"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"perry agent show-config\nperry ssh copy ~/.ssh/id_ed25519\n"})}),"\n",(0,s.jsx)(e.h2,{id:"apply-changes",children:"Apply Changes"}),"\n",(0,s.jsx)(e.p,{children:"Configuration changes take effect:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Immediately"})," for new workspaces"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"On sync"})," for running workspaces: ",(0,s.jsx)(e.code,{children:"perry sync <name>"})]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"On restart"})," for stopped workspaces"]}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"client-configuration",children:"Client Configuration"}),"\n",(0,s.jsxs)(e.p,{children:["Location: ",(0,s.jsx)(e.code,{children:"~/.config/perry/client.json"})]}),"\n",(0,s.jsx)(e.p,{children:"Used when connecting to a remote agent from your local machine."}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",children:'{\n  "agent": "myserver.tail1234.ts.net:7391"\n}\n'})}),"\n",(0,s.jsx)(e.p,{children:"Set via CLI:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"perry config agent myserver.tail1234.ts.net\n"})}),"\n",(0,s.jsxs)(e.p,{children:["If you run any ",(0,s.jsx)(e.code,{children:"perry"})," command without configuring an agent (and no local agent is running), Perry will interactively prompt you for the agent hostname."]}),"\n",(0,s.jsx)(e.h2,{id:"configuration-sections",children:"Configuration Sections"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.a,{href:"/perry/docs/configuration/environment",children:"Environment Variables"})," - Inject env vars into workspaces"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.a,{href:"/perry/docs/configuration/files",children:"Files"})," - Copy files into workspaces"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.a,{href:"/perry/docs/configuration/scripts",children:"Scripts"})," - Run scripts after workspace starts"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.a,{href:"/perry/docs/configuration/github",children:"GitHub"})," - GitHub token and SSH key setup"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.a,{href:"/perry/docs/configuration/ai-agents",children:"AI Agents"})," - Claude Code, OpenCode, Codex CLI"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.a,{href:"/perry/docs/configuration/tailscale",children:"Tailscale"})," - Remote agent access and workspace networking via Tailscale"]}),"\n"]})]})}function h(n={}){const{wrapper:e}={...(0,o.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(d,{...n})}):d(n)}}}]);