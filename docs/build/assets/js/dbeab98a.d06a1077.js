"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[8041],{90349(e,n,r){r.r(n),r.d(n,{assets:()=>a,contentTitle:()=>t,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"workflows","title":"Common Workflows","description":"This guide covers common workflows and use cases for Perry workspaces.","source":"@site/docs/workflows.md","sourceDirName":".","slug":"/workflows","permalink":"/perry/docs/workflows","draft":false,"unlisted":false,"editUrl":"https://github.com/gricha/perry/tree/main/docs/docs/workflows.md","tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"sidebar_position":6},"sidebar":"docsSidebar","previous":{"title":"CLI Reference","permalink":"/perry/docs/cli"},"next":{"title":"Remote Access","permalink":"/perry/docs/web-ui"}}');var i=r(74848),o=r(28453);const l={sidebar_position:6},t="Common Workflows",a={},c=[{value:"Cloning Workspaces",id:"cloning-workspaces",level:2},{value:"Via CLI",id:"via-cli",level:3},{value:"Via Web UI",id:"via-web-ui",level:3},{value:"What Gets Cloned",id:"what-gets-cloned",level:3},{value:"Notes",id:"notes",level:3},{value:"Setting Up Development Environment",id:"setting-up-development-environment",level:2},{value:"Quick Start for a New Project",id:"quick-start-for-a-new-project",level:3},{value:"Syncing After Credential Changes",id:"syncing-after-credential-changes",level:3},{value:"Port Forwarding",id:"port-forwarding",level:2},{value:"Configure Persistent Ports",id:"configure-persistent-ports",level:3},{value:"One-Time Port Forward",id:"one-time-port-forward",level:3},{value:"Multi-Workspace Development",id:"multi-workspace-development",level:2},{value:"Working on Related Projects",id:"working-on-related-projects",level:3},{value:"Branching Strategy with Clones",id:"branching-strategy-with-clones",level:3},{value:"Using AI Agents",id:"using-ai-agents",level:2},{value:"Claude Code",id:"claude-code",level:3},{value:"OpenCode",id:"opencode",level:3},{value:"Codex",id:"codex",level:3},{value:"Troubleshooting Common Issues",id:"troubleshooting-common-issues",level:2},{value:"Workspace Won&#39;t Start",id:"workspace-wont-start",level:3},{value:"Credentials Not Working",id:"credentials-not-working",level:3},{value:"SSH Connection Issues",id:"ssh-connection-issues",level:3}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"common-workflows",children:"Common Workflows"})}),"\n",(0,i.jsx)(n.p,{children:"This guide covers common workflows and use cases for Perry workspaces."}),"\n",(0,i.jsx)(n.h2,{id:"cloning-workspaces",children:"Cloning Workspaces"}),"\n",(0,i.jsx)(n.p,{children:"When you need to experiment with changes without affecting your main workspace, or want to create a backup before making risky modifications, you can clone a workspace."}),"\n",(0,i.jsx)(n.h3,{id:"via-cli",children:"Via CLI"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"perry clone myproject myproject-experiment\n"})}),"\n",(0,i.jsx)(n.h3,{id:"via-web-ui",children:"Via Web UI"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Open the workspace you want to clone"}),"\n",(0,i.jsx)(n.li,{children:"Click the clone icon (next to the settings gear) in the navbar, or"}),"\n",(0,i.jsx)(n.li,{children:'Go to Settings and click "Clone" in the Clone Workspace section'}),"\n",(0,i.jsx)(n.li,{children:"Enter a name for the new workspace"}),"\n",(0,i.jsx)(n.li,{children:'Click "Clone Workspace"'}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"what-gets-cloned",children:"What Gets Cloned"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["All files in ",(0,i.jsx)(n.code,{children:"/home/workspace"})," (your code, configurations, etc.)"]}),"\n",(0,i.jsx)(n.li,{children:"Docker-in-Docker state (containers, images, volumes)"}),"\n",(0,i.jsx)(n.li,{children:"A new SSH port is assigned automatically"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"notes",children:"Notes"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"The source workspace is temporarily stopped during cloning to ensure data consistency"}),"\n",(0,i.jsx)(n.li,{children:"After cloning, both workspaces can run independently"}),"\n",(0,i.jsx)(n.li,{children:"Credentials are synced to the new workspace automatically"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"setting-up-development-environment",children:"Setting Up Development Environment"}),"\n",(0,i.jsx)(n.h3,{id:"quick-start-for-a-new-project",children:"Quick Start for a New Project"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Create workspace with a git repo\nperry start my-app --clone https://github.com/user/repo.git\n\n# Open a shell\nperry shell my-app\n\n# Or use an AI agent\nclaude\n"})}),"\n",(0,i.jsx)(n.h3,{id:"syncing-after-credential-changes",children:"Syncing After Credential Changes"}),"\n",(0,i.jsx)(n.p,{children:"If you update your credentials or SSH keys on the host:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"perry sync my-app\n"})}),"\n",(0,i.jsx)(n.p,{children:'Or use the "Sync Credentials" button in the Web UI settings.'}),"\n",(0,i.jsx)(n.h2,{id:"port-forwarding",children:"Port Forwarding"}),"\n",(0,i.jsx)(n.p,{children:"When running web servers or services in your workspace:"}),"\n",(0,i.jsx)(n.h3,{id:"configure-persistent-ports",children:"Configure Persistent Ports"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Set ports that auto-forward with perry proxy\nperry ports my-app 3000 5173\n\n# Forward them\nperry proxy my-app\n"})}),"\n",(0,i.jsx)(n.h3,{id:"one-time-port-forward",children:"One-Time Port Forward"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Forward specific ports without saving\nperry proxy my-app 8080:3000  # Local 8080 -> workspace 3000\n"})}),"\n",(0,i.jsx)(n.h2,{id:"multi-workspace-development",children:"Multi-Workspace Development"}),"\n",(0,i.jsx)(n.h3,{id:"working-on-related-projects",children:"Working on Related Projects"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Create workspaces for different services\nperry start frontend --clone https://github.com/user/frontend.git\nperry start backend --clone https://github.com/user/backend.git\nperry start shared-lib --clone https://github.com/user/shared.git\n\n# List all workspaces\nperry list\n"})}),"\n",(0,i.jsx)(n.h3,{id:"branching-strategy-with-clones",children:"Branching Strategy with Clones"}),"\n",(0,i.jsx)(n.p,{children:"When working on a feature that might break things:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Clone your stable workspace\nperry clone main-project feature-experiment\n\n# Work on the feature in the clone\nperry shell feature-experiment\n\n# If it works, you can delete the original and rename\n# Or just continue working in the clone\n"})}),"\n",(0,i.jsx)(n.h2,{id:"using-ai-agents",children:"Using AI Agents"}),"\n",(0,i.jsx)(n.h3,{id:"claude-code",children:"Claude Code"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"perry shell my-app\nclaude\n"})}),"\n",(0,i.jsx)(n.p,{children:"Or launch the agent directly in the Web UI terminal."}),"\n",(0,i.jsx)(n.h3,{id:"opencode",children:"OpenCode"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"perry shell my-app\nopencode\n"})}),"\n",(0,i.jsx)(n.h3,{id:"codex",children:"Codex"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"perry shell my-app\ncodex\n"})}),"\n",(0,i.jsx)(n.h2,{id:"troubleshooting-common-issues",children:"Troubleshooting Common Issues"}),"\n",(0,i.jsx)(n.h3,{id:"workspace-wont-start",children:"Workspace Won't Start"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Check logs\nperry logs my-app\n\n# If container was deleted externally, starting will recreate it\nperry start my-app\n"})}),"\n",(0,i.jsx)(n.h3,{id:"credentials-not-working",children:"Credentials Not Working"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Re-sync credentials\nperry sync my-app\n\n# Check what files are configured\nperry config agent\n"})}),"\n",(0,i.jsx)(n.h3,{id:"ssh-connection-issues",children:"SSH Connection Issues"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Check SSH configuration\nperry ssh show\n\n# Verify authorized keys\nperry ssh list\n"})})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}}}]);