"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[4450],{24268(e,n,s){s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>h,frontMatter:()=>d,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"configuration/ai-agents","title":"AI Agents","description":"Perry workspaces come with AI coding assistants pre-installed.","source":"@site/docs/configuration/ai-agents.md","sourceDirName":"configuration","slug":"/configuration/ai-agents","permalink":"/perry/docs/configuration/ai-agents","draft":false,"unlisted":false,"editUrl":"https://github.com/gricha/perry/tree/main/docs/docs/configuration/ai-agents.md","tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"sidebar_position":6},"sidebar":"docsSidebar","previous":{"title":"GitHub Integration","permalink":"/perry/docs/configuration/github"},"next":{"title":"Tailscale Integration","permalink":"/perry/docs/configuration/tailscale"}}');var l=s(74848),r=s(28453);const d={sidebar_position:6},t="AI Agents",c={},a=[{value:"Claude Code",id:"claude-code",level:2},{value:"Setup",id:"setup",level:3},{value:"Usage",id:"usage",level:3},{value:"Alternative: Credentials File",id:"alternative-credentials-file",level:3},{value:"OpenCode",id:"opencode",level:2},{value:"Setup",id:"setup-1",level:3},{value:"Usage",id:"usage-1",level:3},{value:"Alternative: OpenAI API Key",id:"alternative-openai-api-key",level:3},{value:"Codex CLI",id:"codex-cli",level:2},{value:"Setup",id:"setup-2",level:3},{value:"Usage",id:"usage-2",level:3},{value:"GitHub Copilot",id:"github-copilot",level:2},{value:"Setup",id:"setup-3",level:3},{value:"Usage",id:"usage-3",level:3},{value:"Viewing Sessions",id:"viewing-sessions",level:2},{value:"Environment Variables",id:"environment-variables",level:2}];function o(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"ai-agents",children:"AI Agents"})}),"\n",(0,l.jsx)(n.p,{children:"Perry workspaces come with AI coding assistants pre-installed."}),"\n",(0,l.jsx)(n.h2,{id:"claude-code",children:"Claude Code"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.a,{href:"https://claude.ai/code",children:"Claude Code"})," is Anthropic's AI coding assistant."]}),"\n",(0,l.jsx)(n.h3,{id:"setup",children:"Setup"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"On your host machine, run:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"claude setup-token\n"})}),"\n",(0,l.jsx)(n.p,{children:"This generates an OAuth token for container use."}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Add the token to Perry:"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Via config.json:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n  "agents": {\n    "claude_code": {\n      "oauth_token": "sk-ant-oat01-..."\n    }\n  }\n}\n'})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Via Web UI:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Settings > Agents > Claude Code OAuth Token"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Restart workspaces to apply:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"perry stop myproject\nperry start myproject\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"usage",children:"Usage"}),"\n",(0,l.jsx)(n.p,{children:"Inside a workspace:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"claude\n"})}),"\n",(0,l.jsx)(n.h3,{id:"alternative-credentials-file",children:"Alternative: Credentials File"}),"\n",(0,l.jsxs)(n.p,{children:["Perry also copies ",(0,l.jsx)(n.code,{children:"~/.claude/.credentials.json"})," if it exists on your host. This provides authentication without the explicit OAuth token."]}),"\n",(0,l.jsx)(n.h2,{id:"opencode",children:"OpenCode"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.a,{href:"https://github.com/sst/opencode",children:"OpenCode"})," is an open-source AI coding assistant."]}),"\n",(0,l.jsx)(n.h3,{id:"setup-1",children:"Setup"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Get a Zen token from OpenCode"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Add to Perry:"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Via config.json:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n  "agents": {\n    "opencode": {\n      "zen_token": "your-zen-token",\n      "server": {\n        "hostname": "0.0.0.0",\n        "username": "opencode",\n        "password": "your-password"\n      }\n    }\n  }\n}\n'})}),"\n",(0,l.jsx)(n.p,{children:"Notes:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"server.hostname"})," controls what Perry passes to ",(0,l.jsx)(n.code,{children:"opencode serve --hostname"})," inside workspaces."]}),"\n",(0,l.jsxs)(n.li,{children:["Default is ",(0,l.jsx)(n.code,{children:"0.0.0.0"})," to allow connecting over Tailscale."]}),"\n",(0,l.jsxs)(n.li,{children:["Set ",(0,l.jsx)(n.code,{children:"server.hostname"})," to ",(0,l.jsx)(n.code,{children:"127.0.0.1"})," if you want local-only."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"server.password"})," is optional but strongly recommended when binding ",(0,l.jsx)(n.code,{children:"0.0.0.0"}),"."]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Via Web UI:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Settings > Agents > OpenCode Zen Token"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"usage-1",children:"Usage"}),"\n",(0,l.jsx)(n.p,{children:"Inside a workspace:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"opencode\n"})}),"\n",(0,l.jsx)(n.h3,{id:"alternative-openai-api-key",children:"Alternative: OpenAI API Key"}),"\n",(0,l.jsx)(n.p,{children:"You can also use OpenCode with an OpenAI API key:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n  "credentials": {\n    "env": {\n      "OPENAI_API_KEY": "sk-..."\n    }\n  }\n}\n'})}),"\n",(0,l.jsx)(n.h2,{id:"codex-cli",children:"Codex CLI"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.a,{href:"https://github.com/openai/codex-cli",children:"Codex CLI"})," is OpenAI's coding assistant."]}),"\n",(0,l.jsx)(n.h3,{id:"setup-2",children:"Setup"}),"\n",(0,l.jsxs)(n.p,{children:["Perry copies ",(0,l.jsx)(n.code,{children:"~/.codex/"})," directory from your host if it exists, including:"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"auth.json"})," - Authentication"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"config.toml"})," - Configuration"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"usage-2",children:"Usage"}),"\n",(0,l.jsx)(n.p,{children:"Inside a workspace:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"codex\n"})}),"\n",(0,l.jsx)(n.h2,{id:"github-copilot",children:"GitHub Copilot"}),"\n",(0,l.jsx)(n.p,{children:"GitHub Copilot is available through the GitHub CLI."}),"\n",(0,l.jsx)(n.h3,{id:"setup-3",children:"Setup"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["Configure GitHub token (see ",(0,l.jsx)(n.a,{href:"/perry/docs/configuration/github",children:"GitHub Integration"}),")"]}),"\n",(0,l.jsxs)(n.li,{children:["Authenticate inside workspace:","\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"gh auth login\ngh extension install github/gh-copilot\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"usage-3",children:"Usage"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:'gh copilot suggest "create a REST API endpoint"\ngh copilot explain "what does this code do"\n'})}),"\n",(0,l.jsx)(n.h2,{id:"viewing-sessions",children:"Viewing Sessions"}),"\n",(0,l.jsx)(n.p,{children:"Perry tracks AI agent sessions in the Web UI:"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["Open ",(0,l.jsx)(n.a,{href:"http://localhost:7391",children:"http://localhost:7391"})]}),"\n",(0,l.jsx)(n.li,{children:"Click on a workspace"}),"\n",(0,l.jsx)(n.li,{children:'View "Sessions" or "Chat" tab'}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"Sessions show conversation history from Claude Code, OpenCode, and Codex."}),"\n",(0,l.jsx)(n.h2,{id:"environment-variables",children:"Environment Variables"}),"\n",(0,l.jsx)(n.p,{children:"All AI agent credentials are injected as environment variables:"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Agent"}),(0,l.jsx)(n.th,{children:"Variable"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"Claude Code"}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"CLAUDE_CODE_OAUTH_TOKEN"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"GitHub"}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"GITHUB_TOKEN"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"OpenAI/OpenCode"}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"OPENAI_API_KEY"})})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"Anthropic"}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"ANTHROPIC_API_KEY"})})]})]})]}),"\n",(0,l.jsx)(n.p,{children:"You can also set these directly in environment config:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n  "credentials": {\n    "env": {\n      "ANTHROPIC_API_KEY": "sk-ant-...",\n      "OPENAI_API_KEY": "sk-..."\n    }\n  }\n}\n'})})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(o,{...e})}):o(e)}}}]);